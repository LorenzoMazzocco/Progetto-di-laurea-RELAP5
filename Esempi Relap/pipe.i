$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$$                                                                           $$
$$                 Simple pipe                                               $$
$$                                                                           $$
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$[Antonio Cammi, January 2020]$$$$$$$$$$
*
*Titlecard
=pipe
*
*crdno  Probtype    Option
100       new      transnt
*
*crdno  CheckorRun
101 run
*101 inp-chk
*
*crdno   Inunits  Outunits
102        si        si
*
*
*crdno   Noncondensables
110           air
*
*******************************************************************************
*                         TIME STEP CONTROL CARDS                             *
*******************************************************************************
*
*crdno   Initialtime[s]
200           0.
*crdno   Endtime[s] Mindt[s]  Maxdt[s]   ctrl  Minedit  Majedit   Rst
201        550.     1.e-8      0.01     00003   500      500     500
*
*crdno   Endtime[s] Mindt[s]  Maxdt[s]   ctrl  Minedit  Majedit   Rst
202        2500.     1.e-8      0.04     00003   200      200     200
*
*crdno   Endtime[s] Mindt[s]  Maxdt[s]   ctrl  Minedit  Majedit   Rst
203        3000.     1.e-7      0.04     00003   500      500     500
*
*crdno   Endtime[s] Mindt[s]  Maxdt[s]   ctrl  Minedit  Majedit   Rst
204        5000.     1.e-7      0.04     00003  1000     1000    1000
*
*crdno   Endtime[s] Mindt[s]  Maxdt[s]   ctrl  Minedit  Majedit   Rst
205       30000.     1.e-7      0.04     00003  6000     6000    6000
*
* (201 writes every 5 s)
* (202 writes every 8 s)
* (203 writes every 20 s)
* (204 writes every 40 s)
* (205 writes every 240 s)
******************************************************************************
*                                   TRIPS                                    *
******************************************************************************
*
401 time 0 gt null,0 1.e2 n  * Open valve n� 1
*
402 time 0 lt null,0 1.e2 n  * Close valve n� 2
*
*-----------------------------------------------------------------------------
599 time 0 ge null,0 500. l -1.
*
600 599                            *End of program when trip 599 turns true
*
*
*||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
*|||||||||||||||||||||||||||     Hydraulic components    ||||||||||||||||||||||
*||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
*
*
**
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$                                                                             $
$                        COMPONENT 100- Reservoir                             $
$                                                                             $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
*
*crdno     Name      Type
1000000   tank   tmdpvol
*
*crdno    Volflowarea[m^2]   Vollength[m]   Volvolume[m^3]
1000101       1.e+5               1.             0.
*
*crdno    Azangle   Vertangle   Elevchange[m]
1000102      0.        90.          1.
*
*crdno   Rough[m]  Dhyd[m]    Control Flags
1000103      0.       0.           0000000
*
*--------------------------- VOLUME DATA ----------------------------
*
*crdno   ebt   W2   W3
1000200  003
*
*crdno   Time[s]     P[Pa]     T[K]
*
1000201     0.      1.0e+6    293.15
1000202    60.      1.0e+6    293.15
1000203   120.      1.0e+6    293.15
1000204   2000.     1.0e+6    293.15
1000205   2010.     1.0e+6    293.15
1000206   1.e+6     1.0e+6    293.15
*
*------------------------------------------------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$                                                                             $
$                         COMPONENT 110 - INLET                               $
$                                                                             $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
*
*crdno     Name     Type
1100000   feedin   tmdpjun
*
*crdno       From        To      Junarea[m^2]
1100101   100000000   120010001      0.
*
*--------------------------- JUNCTION DATA ----------------------------
*
*crdno    Controlword    W2   W3   W4
1100200       1 *  (0 = velocity ; 1 = mass flow rate)
*
*crdno    Time[s]   Ml[kg/s]   Mv[kg/s]   Vint[m/s]
*
1100201      0.        0.0         0.          0.
1100202     10.        5.0         0.          0.
1100203     20.        5.0         0.          0.
1100204   2000.        5.0         0.          0.
1100205   2001.0       5.0         0.          0.
1100206   1.0e+6       5.0         0.          0.
*
*----------------------------------------------------------------------
*
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$                                                                             $
$               COMPONENT 120 - Single Pipe 3" schedule 80                    $
$                                                                             $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
*
*crdno      Name     Type
1200000     sn_pipe     pipe
*
*crdno   Number of volumes
1200001         20
*
*crdno  Volflowarea[m^2]  Volno
1200101     0.004261        20
*
*crdno Junctionflowarea[m^2] Junno
1200201        0.              19
*
*crdno  Vollength[m]  Volno
1200301     0.5          20
*
*crdno   Volumevol[m^3]    Volno
1200401       0.            20
*
*crdno   Azangle  Volno
1200501     0.     20
*
*crdno   Vertangle  Volno
1200601    0.        20
*
*crdno   Elevchange[m]  Volno
1200701     0.           20
*
*crdno    Rough[m]    Dhyd[m]   Volno
1200801   1.52e-6     0.07366     20
*
*crdno   Forloss  Revloss  Junno
1200901    0.      0.       19
*
*crdno   Volume Control Flags   Volno
1201001        0000000            20
*
*
*crdno   Junction Control Flags   Junno
1201101        0001000              19
*
*
*--------------------------- VOLUMES IC -------------------------------
*
*crdno    ebt    P[Pa]     T[K]    W4   W5   W6    Volno
1201201   003   1.0e6       293.15   0.   0.   0.    20
*
*-------------------------- JUNCTIONS IC ------------------------------
*
*crdno   Control Word
1201300       1
*
*crdno   Ml[kg/s]     Mg[kg/s]   Vint[m/s]   Junno
1201301    0.           0.         0.         19
*
*-----------------------------------------------------------------------------
*
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$                                                                             $
$                       COMPONENT 130 AUXILIARY VALVE 1                       $
$                                                                             $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
*
*crdno        Name    Type
1300000       auxvlv1   valve
*
*crdno      From       To       Valvearea[m^2]  Forloss  Revloss  Control Flags
1300101  120200002  150000000      0.          1.0      0.1      0000100
*
*crdno   Controlword   Ml[kg/s]   Mv[kg/s]   Vint[m/s]
1300201      1            0.        0.          0.
*
*crdno    Valvetype
1300300    trpvlv
*
*crdno     trip
1300301    401
*
*-----------------------------------------------------------------------------
*
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$                                                                             $
$                       COMPONENT 140 AUXILIARY VALVE 2                       $
$                                                                             $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
*
*crdno        Name    Type
1400000       auxvlv2   valve
*
*crdno      From       To       Valvearea[m^2]  Forloss  Revloss  Control Flags
1400101  120200002  160000000      0.          1.0      0.1      0000100
*
*crdno   Controlword   Ml[kg/s]   Mv[kg/s]   Vint[m/s]
1400201      1            0.        0.          0.
*
*crdno    Valvetype
1400300    trpvlv
*
*crdno     trip
1400301    402
*
*----------------------------------------------------------------------
*
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$                                                                             $
$             COMPONENT 150- auxiliary tank  1                                $
$                                                                             $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
*
*crdno     Name      Type
1500000   auxtank1   tmdpvol
*
*crdno    Volflowarea[m^2]   Vollength[m]   Volvolume[m^3]
1500101       1.e+5               1.             0.
*
*crdno    Azangle   Vertangle   Elevchange[m]
1500102      0.        90.          1.
*
*crdno   Rough[m]  Dhyd[m]    Control Flags
1500103      0.       0.           0000000
*
*--------------------------- VOLUME DATA ----------------------------
*
*crdno   ebt   W2   W3
1500200  003
*
*crdno   Time[s]     P[Pa]     T[K]
*
1500201     0.      1.0e+6    293.15
1500202    60.      1.0e+6    293.15
1500203   120.      1.0e+6    293.15
1500204   2000.     1.0e+6    293.15
1500205   2010.     1.0e+6    293.15
1500206   1.e+6     1.0e+6    293.15
*
*----------------------------------------------------------------------
*
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$                                                                             $
$             COMPONENT 160- auxiliary tank  2                                $
$                                                                             $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
*
*crdno     Name      Type
1600000   auxtank2   tmdpvol
*
*crdno    Volflowarea[m^2]   Vollength[m]   Volvolume[m^3]
1600101       1.e+5               1.             0.
*
*crdno    Azangle   Vertangle   Elevchange[m]
1600102      0.        90.          1.
*
*crdno   Rough[m]  Dhyd[m]    Control Flags
1600103      0.       0.           0000000
*
*--------------------------- VOLUME DATA ----------------------------
*
*crdno   ebt   W2   W3
1600200  003
*
*crdno   Time[s]     P[Pa]     T[K]
*
1600201     0.      1.0e+6    293.15
1600202    60.      1.0e+6    293.15
1600203   120.      1.0e+6    293.15
1600204   2000.     1.0e+6    293.15
1600205   2010.     1.0e+6    293.15
1600206   1.e+6     1.0e+6    293.15
*
*---------------------------------------------------------------------
*
*||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
*|||||||||||||||||||||||||||    HEAT STRUCTURES    ||||||||||||||||||||||||||||
*||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
*
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$                                                                             $
$                    HEAT STRUCTURE 200-Pipe                                  $
$                                                                             $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
*
*crdno    Naxial  Nradial  Geomtype  SSFlag  Leftboundary[m]
12000000   20        5        2        1       0.03683
*
*crdno     Meshlocationflag    Meshformatflag
12000100          0                  1
*
*crdno     Nointervals   Rightcoord[m]
12000101       4            0.04445
*
*crdno     Compositionno    Intervalno
12000201       101              4
*
*crdno     Source    Meshintervalno
12000301     1.            4
*
*crdno     Initialtempflag
12000400         0
*
*crdno      T[K]    Meshpointno
12000401   293.15        5
*
*---------------------- LEFT BOUNDARY CONDITION -------------------------
*
*crdno   Boundaryvolno  Increment    BCtype   SAcode   SAfactor     Heatstno
12000501   120010000       10000        1       1       0.5          20
*
*                                         *BCtype 1=Upflow vertical duct
*---------------------- RIGHT BOUNDARY CONDITION ------------------------
*
*crdno   Tableno         Increment   BCtype  SAcode  SAfactor   Heatstno
12000601  -201               0       4202    1       0.5          20
*
*                                   *BCtype 4202=convective boundary condition (4) where the heat transfer coefficient is specified in table 202
*------------------------------ SOURCE DATA -------------------------------
*
*crdno   Sourcetype  Sourcemult  DMHMleft  DMHMright  Heatstno
12000701    900          1.         0.       0.         20
*
*------------------ ADDITIONAL LEFT BOUNDARY CONDITION --------------------
*
*crdno    W1
12000800  0   *9 word format
*
*crdno    Dth[m]   W2  W3  W4  W5  W6  W7   W8   Heatstno
12000801    0.     15. 15. 0.  0.  0.  0.   1.     20
*
*
*------------------ ADDITIONAL RIGHT BOUNDARY CONDITION -------------------
*
*crdno    W1
12000900  0   *9 word format
*
*crdno       Dth[m]  W2  W3  W4  W5  W6  W7   W8   Heatstno
12000901      0.     15. 15. 0.  0.  0.  0.   1.     20
*
*--------------------------------------------------------------------------
*
*||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
*|||||||||||||||||||||||||||      GENERAL TABLES      |||||||||||||||||||||||||
*||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
*
*
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$                                                                             $
$                  TABLE 101- Stainless steel  AISI 1010                      $
$                                                                             $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
*-------------------------------*---------------------------------------------*
*  A. F. Mills, 'Heat Transfer', Irwin, 1992                                  *
*-------------------------------*---------------------------------------------*
*
*crdno     Material   Kflag   Cflag
20110100   tbl/fctn    1       1
*
*crdno      T[K]   K[W/mK]
*
20110101    200.    68.4  *Extrapolated  * Linear Interpolation
20110102    300.    64.0                 *
20110103    400.    59.0                 * K=77.9-0.048*T  [corr=-0.999]
20110104    500.    54.0                 *
20110105    600.    49.0
20110106    800.    39.0
20110107   1000.    31.0
20110108   12000.   20.7  *Extrapolated
*
*crdno      T[K]   roCp[J/m^3K]
*
20110151    200.    2.98323e+6  *Extrapolated
20110152    300.    3.39822e+6
20110153    400.    3.81321e+6
20110154    500.    4.07160e+6
20110155    600.    4.37697e+6
20110156    800.    5.36355e+6
20110157   1000.    9.14544e+6
20110158   12000.   12.9273e+6  *Extrapolated
*
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$                                                                             $
$                  TABLE 201-ENVIRONMENT TEMPERATURE vs TIME                  $
$                                                                             $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
*
*crdno     Tabletype   Trip   Factors
20220100     temp
*
*crdno         t[s]      T[K]
*
20220101        0.       300.
20220102      1.e+6      300.
*
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$                                                                             $
$          TABLE 202-DISSIPATIVE HEAT TRANSFER COEFF. vs TEMPERATURE          $
$                                                                             $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
*
*crdno      Tabletype   Trip   Factors
20220200     htc-temp
*
*crdno         T[K]      h[W/m^2K]
*
20220201       200.          0.
20220202       300.          0.
20220203       400.          5.
20220204       500.         10.
20220205       600.         20.
20220206       700.         40.
*
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$                                                                             $
$          TABLE 900-GENERATED POWER vs time                                  $
$                                                                             $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
*
*crdno      Tabletype   Trip   Factors
20290000     power
*
*crdno         t[s]     Power [W]
*
20290001         0.     0.
20290002         100.    250.0e3
20290003         10000.  250.0e3
*
*||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
*|||||||||||||||||||||||||||      CONTROLVAR      |||||||||||||||||||||||||||||
*||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
*
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$  CONTROLVAR  101-Primary Side Total Pressure Drop [kPa]                     $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
*
*crdno      Name      Type   Scalefactor   IV   IFlag   Limiter   Min/Max   Max
20510100   dpprim     sum      1.0        0.    1
*                                                      *Between extreme volumes
*crdno     A0   Ai        Vi
20510101   0.   1.   p   120010000   *Inlet
20510102       -1.   p   120200000   *Outlet
*
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$  CONTROLVAR  110 Pipe Exchanged Power [kW]                                  $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
*
*crdno      Name     Type   Scalefactor   IV   IFlag   Limiter   Min/Max   Max
20511000   power    sum      1.e-3       0.     1
*
*crdno     A0   Ai        Vi
20511001   0.   1.   q   120010000
20511002        1.   q   120020000
20511003        1.   q   120030000
20511004        1.   q   120040000
20511005        1.   q   120050000
20511006        1.   q   120060000
20511007        1.   q   120070000
20511008        1.   q   120080000
20511009        1.   q   120090000
20511010        1.   q   120100000
20511011        1.   q   120110000
20511012        1.   q   120120000
20511013        1.   q   120130000
20511014        1.   q   120140000
20511015        1.   q   120150000
20511016        1.   q   120160000
20511017        1.   q   120170000
20511018        1.   q   120180000
20511019        1.   q   120190000
20511020        1.   q   120200000
*
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$  CONTROLVAR  310 Mass (liquid) in Volume 120010000 [kg]                     $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
*
*crdno       Name       Type   Scalefactor   IV   IFlag  Limiter  Min/Max  Max
20531000     mass_01      mult        1.        1.    1
*
*crdno             Vi
20531001      rhof   120010000
20531002      vvol   120010000
20531003      voidf   120010000
*
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$  CONTROLVAR  312 Mass (vapour) in Volume 120010000 [kg]                     $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
*
*crdno       Name       Type   Scalefactor   IV   IFlag  Limiter  Min/Max  Max
20531200     mass_02      mult        1.        1.    1
*
*crdno             Vi
20531201      rhog   120010000
20531202      vvol   120010000
20531203      voidg  120010000
*
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$  CONTROLVAR  314 Mass (liquid) in Volume 120200000 [kg]                     $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
*
*crdno       Name       Type   Scalefactor   IV   IFlag  Limiter  Min/Max  Max
20531400     mass_03      mult        1.        1.    1
*
*crdno             Vi
20531401      rhof   120200000
20531402      vvol   120200000
20531403      voidf  120200000
*
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$  CONTROLVAR  316 Mass (vapour) in Volume 120200000 [kg]                     $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
*
*crdno       Name       Type   Scalefactor   IV   IFlag  Limiter  Min/Max  Max
20531600     mass_04      mult        1.        1.    1
*
*crdno             Vi
20531601      rhog   120200000
20531602      vvol   120200000
20531603      voidg  120200000
*
.
